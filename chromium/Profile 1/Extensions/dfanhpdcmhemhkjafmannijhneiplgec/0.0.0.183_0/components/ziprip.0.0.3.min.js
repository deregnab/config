// ziprip.js - version 0.0.3 - docs: http://zipripjs.com/
// Copyright Peter Sergeant pete@clueball.com - MIT License
// This file is automatically generated, don't edit directly.
// Synopsis:
//     var addresses = ziprip.extract( dom, urlString )
//
// Full documentation at http://zipripjs.com/
(function(){var libraries={},zrRequire=function(e){return libraries[e]()};libraries["./address"]=function(){var e={};return e.address=function(){this.title="",this.atoms=[],this.postcode="",this.country="",this.lat=undefined,this.lon=undefined,this.via="",this.isGeocoded=function(){return typeof this["lat"]!="undefined"&&typeof this["lon"]!="undefined"?!0:!1},this.flatten=function(){var e=[];return e=e.concat(this.atoms),this.postcode&&e.push(this.postcode),e.push(this.country),e},this.formatForGeocode=function(){var e=this.flatten(),t=e[e.length-1];return t=="US"&&e.pop(),e.join(", ")},this._fieldsOnly=function(){var e={},t=["title","atoms","postcode","country","via","lat","lon"];for(var n=0;n<t.length;n++){if(typeof this[t[n]]=="function")continue;e[t[n]]=this[t[n]]}return e}},e.addressFromFields=function(t){var n=new e.address;for(var r in t)n[r]=t[r];return n},e},libraries["./addressFromString"]=function(){var e={},t=[{country:"UK",one_only:!0,regex_string:"\\b([a-z]\\d\\s\\d[a-z][a-z]|[a-z]\\d[a-z]\\s\\d[a-z][a-z]|[a-z]\\d\\d\\s\\d[a-z][a-z]|[a-z]\\d\\d[a-z]\\s\\d[a-z][a-z]|[a-z][a-z]\\d\\s\\d[a-z][a-z]|[a-z][a-z]\\d[a-z]\\s\\d[a-z][a-z]|[a-z][a-z]\\d\\d\\s\\d[a-z][a-z])\\b"},{country:"US",one_only:!1,regex_string:"\\b((Chicago,?|Houston,?|Philadelphia,?|Phoenix,?|Alabama,?|Alaska,?|Arizona,?|Arkansas,?|California,?|Colorado,?|Connecticut,?|Delaware,?|Florida,?|Georgia,?|Hawaii,?|Idaho,?|Illinois,?|Indiana,?|Iowa,?|Kansas,?|Kentucky,?|Louisiana,?|Maine,?|Maryland,?|Massachusetts,?|Michigan,?|Minnesota,?|Mississippi,?|Missouri,?|Montana,?|North Carolina,?|North Dakota,?|Nebraska,?|Nevada,?|New Hampshire,?|New Jersey,?|New Mexico,?|New York,?|Ohio,?|Oklahoma,?|Oregon,?|Pennsylvania,?|Rhode Island,?|South Carolina,?|South Dakota,?|Tennessee,?|Texas,?|Utah,?|Vermont,?|Virginia,?|Washington,?|West Virginia,?|Wisconsin,?|Wyoming,?|American Samoa,?|D\\.C\\.,?|Guam,?|Puerto Rico,?|AL|AK|AZ|AR|CA|CO|CT|DE|FL|GA|HI|ID|IL|IN|IA|KS|KY|LA|ME|MD|MA|MI|MN|MS|MO|MT|NC|ND|NE|NV|NH|NJ|NM|NY|OH|OK|OR|PA|RI|SC|SD|TN|TX|UT|VT|VA|WA|WV|WI|WY|AS|DC|GU|MP|PR|VI)\\s+\\d{5}(-\\d{4})?)\\b"}];for(var n=0;n<t.length;n++)t[n].regex=new RegExp(t[n].regex_string,"i"),t[n].regex_block=new RegExp("([\\s\\S]+)("+t[n].regex_string+")","i");return e.addressFromString=function(e,n){var r=[],i={},s=n.split(/\n\s*\n/);for(var o=0;o<s.length;o++){var u=s[o],a=[];for(var f=0;f<t.length;f++){var l=t[f],c="  "+u,h=c.match(l.regex_block);if(h){var p=h[1],d=h[2];if(l.one_only){if(i[d])break;i[d]=1}p.match(/\w/)?a=[p,d,l.country]:a=[d,l.country];break}if(a.length>0)break}a.length>0&&r.push(a)}var v=!1;for(var o=0;o<r.length;o++){var a=r[o];if(a.length!=2)continue;var d=a[0],m=[];for(var g=0;g<s.length;g++)if(s[g].match(d)){var y=0;for(y=g-1;y>=0;y--){var u=s[y];if(u.match(/\n/))break;if(u.match(/http:/))break;if(u.match(/\baddress/i))break;m.unshift(u)}break}m.length?r[o]=[m.join(", "),a[0],a[1]]:(v=!0,r[o]=undefined)}if(v){var b=[];for(var o=0;o<r.length;o++)r[o]&&b.push(r[o]);r=b}for(var o=0;o<r.length;o++){var p=r[o][0],d=r[o][1],l=r[o][2];p=p.replace(/^.*(Registered Offices?( is| are)?|Tel|Telephone|Website|Fax|Address)\s*:\s*/mi,""),p=p.replace(/[\n|]/g,","),p=p.replace(/\u2022/g,","),p=p.replace(/%u2022/g,","),p=p.replace(/,+/g,","),p=p.replace(/,\s*$/g,"");var w=p.split(/,/);w.length==1&&w[0].match(/\s\s/)&&(w=w[0].split(/\s\s/));var E=[],S="";for(var f=0;f<w.length;f++){var x=w[f];x=x.replace(/^\s*registered offices?( is| are)?/,""),x=x.replace(/^\s*\*\s*/,""),x=x.replace(/^\s+/,""),x=x.replace(/\s+$/,""),x=x.replace(/\s+/g," "),x=x.replace(/,$/,"");var T=x.match(/^\d[ \d\-ab]*$/i);T?S=x:x.length&&x.length<38&&(S&&(x=S+" "+x,S=undefined),E.push(x))}d=d.replace(/\s+/g," ");var N=E[0];if(N==undefined||!N.length)N=d;r[o]=e.addressFromFields({atoms:E,title:N,country:l,postcode:d})}return r},e},libraries["./cleanAddress_en"]=function(){var e={},t=new RegExp(" (Road|Rd|Square|Street|St.?|Parkway|Pkwy.?|Ave.?|Avenue|Broadway|Boulevard|Blvd.?|Lane|Terrace|Place|Gardens|Yard|Court|Way|Drive|Dr.?|lazy)( (north|west|south|east))?$","i");return e.cleanAddress=function(e){var n=e.reverse(),r=[];for(var i=0;i<n.length;i++){r.unshift(n[i]);if(n[i].match(t)){if(n[i].match(/\d/))break;if(i+1!=n.length){r.unshift(n[i+1]);break}}}return r},e},libraries["./domToText"]=function(){var e={};return e.domToText=function(e,t){function s(e,o,u){var a="";e.nodeName&&(a=e.nodeName.toLowerCase());if(a=="iframe"){var f;try{f=e.contentDocument.documentElement}catch(l){}f&&(i+="\n\n\n\n",s(f,o+1,u+" > "+a))}else if(e.nodeType==3){var c=t.nodeToText(e);i+=c}else if(e.nodeType==1){var h;if(n[a])return;if(h=r[a+"_start"])i+=h;for(var p=0;p<e.childNodes.length;p++)s(e.childNodes[p],o+1,u+" > "+a);if(h=r[a+"_end"])i+=h}}var n={head:1,script:1,style:1},r={h1_start:"\n\n",h2_start:"\n\n",h3_start:"\n\n",p_start:"\n",p_end:"\n",span_start:"",span_end:", ",div_start:"\n",div_end:"\n\n",li_end:"\n",br_end:"\n",td_end:"\n\n"},i="";return s(e.getElementsByTagName("html")[0],0,""),i},e},libraries["./extractUsing"]=function(){var e={};return e.extractUsing=function(e,t,n,r,i){n.loadSizzle(e);var s=[];for(var o=0;o<i.length;o++){var u=i[o](e,t,n,r);if(u&&u.length>0){s=u;break}}for(var o=0;o<s.length;o++)s[o]["via"]=="Generic"&&(s[o].atoms=n.cleanAddress(s[o].atoms));return s.length==1&&r.hint&&(s[0].lat||(s[0].lat=r.hint[0],s[0].lon=r.hint[1])),s},e},libraries["./extractorFromText"]=function(){var e={};return e.extractor=function(e,t,n,r){var i=n.domToText(e,n),s=n.addressFromString(n,i);for(var o=0;o<s.length;o++)s[o].via="Generic";return s},e},libraries["./extractorGoogle"]=function(){var e={};return e.extractor=function(e,t,n,r){function v(t){var r=[];for(var i=0;i<t.length;i++){var s=t[i],o=n.uri(s.getAttribute("href"));if(!o.host().match("maps.google"))continue;var u=o.decode(o.getQueryParamValue("daddr")),a=n.addressFromString(n,u)[0];if(!a)continue;var f=o.decode(o.getQueryParamValue("geocode"));if(!f)continue;var l=f.split(/,/);if(l.length!=3)continue;a.lat=l[1],a.lon=l[2],a.via="Google Driving";if(t.length==1){var c=n.sz('*[id="lclbox"]',e)[0];if(c){var h=n.sz('*[class="wrt"]',c)[0];h&&(a.title=n.nodeToText(h))}}r.push(a)}return r}function m(e){var t=[],r={};for(var i=0;i<e.length;i++){var s=e[i].getAttribute("g:url");if(r[s])continue;r[s]=1,s=s.replace(/^ID:\/\//,""),s=n.uri(s);if(!s.host().match("maps.google"))continue;var o=s.decode(s.getQueryParamValue("q")),u=o.split(/loc\:/),a=u[0],f=u[1];a=a.replace(/[\-\d\(\)\ \+]+$/g,""),a=a.replace(/\s*$/g,""),a=a.replace(/^\s*/g,""),a=a.replace(/\s+/g," ");var l=n.addressFromString(n,f)[0];if(!l)continue;var c=s.getQueryParamValue("sll").split(/,/);l.lat=c[0],l.lon=c[1],l.title=a,l.via="Google g:url",t.push(l)}return t}function g(e){e=e.replace(/(\w+):/g,'"$1":');try{var t=n.json.parse(e),r=t.infoWindow.title,i=t.infoWindow.addressLines.join(","),s=t.latlng.lat+0,o=t.latlng.lng+0}catch(u){return[]}if(!i.length)return[];var a=n.addressFromString(n,i)[0];return a?(r.length&&(a.title=r),s&&o&&(a.lat=s,a.lon=o),a.via="Google pp-marker",[a]):[]}var i=n.sz('#rhs_block .rhsvw a[href*="daddr"]',e)[0];if(i){var s=v([i])[0];if(s){var o=n.sz("#rhs_block .rhsvw b",e)[0];return o&&n.nodeToText(o)&&(s.title=n.nodeToText(o)),s.via="Google RHS",[s]}}var u=n.sz("#pp-marker-json",e)[0];if(u){var a=n.nodeToText(u),f=g(a);if(f.length)return f}var l=n.sz("div[g\\:url]",e),s=m(l);if(s.length)return s;var c=n.sz('a[href*="daddr"]',e),h=v(c);if(h.length)return h;var p=n.sz('a[href*="mapclient=jsapi"]',e);if(p.length==1){var t=p[0].getAttribute("href");t=n.uri(t);if(t.host().match("maps.google")){var d=t.decode(t.getQueryParamValue("ll")).split(",");d[0]&&d[1]&&(r.hint=d)}}},e},libraries["./extractorHVCard"]=function(){var e={};return e.extractor=function(e,t,n,r){var i=[],s={},o=n.sz('*[class~="hcard"],*[class~="vcard"]');for(var u=0;u<o.length;u++){var a=o[u],f,l=n.sz('*[class~="org"]',a)[0];l&&(f=n.nodeToText(l));var c=n.sz('*[class~="adr"]',a)[0];if(!c)continue;var h="",p=["street-address","extended-adddress","locality","region","postal-code","country-name"];for(var d=0;d<p.length;d++){var v=p[d],m=n.sz('*[class~="'+v+'"]',c)[0];if(m){var g=n.nodeToText(m);v=="postal-code"&&(g=g.replace(/^\s*(\d\d\d\d\d)(\d\d\d\d)\s*$/,"$1-$2")),v=="region"?h+=g+" ":h+=g+"\n"}}if(!s[h]){s[h]=1;var y=n.addressFromString(n,h)[0];y&&(y.atoms=n.cleanAddress(y.atoms),y.via="hvCard",f&&(y.title=f,y["atoms"][0]==f&&y.atoms.shift()),i.push(y))}}return i},e},libraries["./json2"]=function(){var exports={};return zrJSON={},function(){"use strict";function f(e){return e<10?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return typeof t=="string"?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,s,o=gap,u,a=t[e];a&&typeof a=="object"&&typeof a.toJSON=="function"&&(a=a.toJSON(e)),typeof rep=="function"&&(a=rep.call(t,e,a));switch(typeof a){case"string":return quote(a);case"number":return isFinite(a)?String(a):"null";case"boolean":case"null":return String(a);case"object":if(!a)return"null";gap+=indent,u=[];if(Object.prototype.toString.apply(a)==="[object Array]"){s=a.length;for(n=0;n<s;n+=1)u[n]=str(n,a)||"null";return i=u.length===0?"[]":gap?"[\n"+gap+u.join(",\n"+gap)+"\n"+o+"]":"["+u.join(",")+"]",gap=o,i}if(rep&&typeof rep=="object"){s=rep.length;for(n=0;n<s;n+=1)typeof rep[n]=="string"&&(r=rep[n],i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i))}else for(r in a)Object.prototype.hasOwnProperty.call(a,r)&&(i=str(r,a),i&&u.push(quote(r)+(gap?": ":":")+i));return i=u.length===0?"{}":gap?"{\n"+gap+u.join(",\n"+gap)+"\n"+o+"}":"{"+u.join(",")+"}",gap=o,i}}typeof Date.prototype.toJSON!="function"&&(Date.prototype.toJSON=function(e){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(e){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;typeof zrJSON.stringify!="function"&&(zrJSON.stringify=function(e,t,n){var r;gap="",indent="";if(typeof n=="number")for(r=0;r<n;r+=1)indent+=" ";else typeof n=="string"&&(indent=n);rep=t;if(!t||typeof t=="function"||typeof t=="object"&&typeof t.length=="number")return str("",{"":e});throw new Error("zrJSON.stringify")}),typeof zrJSON.parse!="function"&&(zrJSON.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&typeof i=="object")for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),r!==undefined?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}));if(/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),typeof reviver=="function"?walk({"":j},""):j;throw new SyntaxError("zrJSON.parse")})}(),exports.json=zrJSON,exports},libraries["./jsuri"]=function(){var e={},t=function(e){"use strict";var t=function(e){var t=[],n,r,i,s;if(typeof e=="undefined"||e===null||e==="")return t;e.indexOf("?")===0&&(e=e.substring(1)),r=e.toString().split(/[&;]/);for(n=0;n<r.length;n++)i=r[n],s=i.split("="),t.push([s[0],s[1]]);return t},n=t(e),r=function(){var e="",t,r;for(t=0;t<n.length;t++)r=n[t],e.length>0&&(e+="&"),e+=r.join("=");return e.length>0?"?"+e:e},i=function(e){return e=decodeURIComponent(e),e=e.replace(/\+/g," "),e},s=function(e){var t,r;for(r=0;r<n.length;r++){t=n[r];if(i(e)===i(t[0]))return t[1]}},o=function(e){var t=[],r,s;for(r=0;r<n.length;r++)s=n[r],i(e)===i(s[0])&&t.push(s[1]);return t},u=function(e,t){var r=[],s,o,u,a;for(s=0;s<n.length;s++)o=n[s],u=i(o[0])===i(e),a=i(o[1])===i(t),(arguments.length===1&&!u||arguments.length===2&&!u&&!a)&&r.push(o);return n=r,this},a=function(e,t,r){return arguments.length===3&&r!==-1?(r=Math.min(r,n.length),n.splice(r,0,[e,t])):arguments.length>0&&n.push([e,t]),this},f=function(e,t,r){var s=-1,o,f;if(arguments.length===3){for(o=0;o<n.length;o++){f=n[o];if(i(f[0])===i(e)&&decodeURIComponent(f[1])===i(r)){s=o;break}}u(e,r).addParam(e,t,s)}else{for(o=0;o<n.length;o++){f=n[o];if(i(f[0])===i(e)){s=o;break}}u(e),a(e,t,s)}return this};return{getParamValue:s,getParamValues:o,deleteParam:u,addParam:a,replaceParam:f,decode:i,toString:r}};return e.uri=function(e){"use strict";var n=!1,r=function(e){var t={strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},r=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],i={name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},s=t[n?"strict":"loose"].exec(e),o={},u=14;while(u--)o[r[u]]=s[u]||"";return o[i.name]={},o[r[12]].replace(i.parser,function(e,t,n){t&&(o[i.name][t]=n)}),o},i=r(e||""),s=new t(i.query),o=function(e){return typeof e!="undefined"&&(i.protocol=e),i.protocol},u=null,a=function(e){return typeof e!="undefined"&&(u=e),u===null?i.source.indexOf("//")!==-1:u},f=function(e){return typeof e!="undefined"&&(i.userInfo=e),i.userInfo},l=function(e){return typeof e!="undefined"&&(i.host=e),i.host},c=function(e){return typeof e!="undefined"&&(i.port=e),i.port},h=function(e){return typeof e!="undefined"&&(i.path=e),i.path},p=function(e){return typeof e!="undefined"&&(s=new t(e)),s},d=function(e){return typeof e!="undefined"&&(i.anchor=e),i.anchor},v=function(e){return o(e),this},m=function(e){return a(e),this},g=function(e){return f(e),this},y=function(e){return l(e),this},b=function(e){return c(e),this},w=function(e){return h(e),this},E=function(e){return p(e),this},S=function(e){return d(e),this},x=function(e){return p().getParamValue(e)},T=function(e){return p().getParamValues(e)},N=function(e){return p().decode(e)},C=function(e,t){return arguments.length===2?p().deleteParam(e,t):p().deleteParam(e),this},k=function(e,t,n){return arguments.length===3?p().addParam(e,t,n):p().addParam(e,t),this},L=function(e,t,n){return arguments.length===3?p().replaceParam(e,t,n):p().replaceParam(e,t),this},A=function(){var e="",t=function(e){return e!==null&&e!==""};return t(o())?(e+=o(),o().indexOf(":")!==o().length-1&&(e+=":"),e+="//"):a()&&t(l())&&(e+="//"),t(f())&&t(l())&&(e+=f(),f().indexOf("@")!==f().length-1&&(e+="@")),t(l())&&(e+=l(),t(c())&&(e+=":"+c())),t(h())?e+=h():t(l())&&(t(p().toString())||t(d()))&&(e+="/"),t(p().toString())&&(p().toString().indexOf("?")!==0&&(e+="?"),e+=p().toString()),t(d())&&(d().indexOf("#")!==0&&(e+="#"),e+=d()),e},O=function(){return new Uri(A())};return{protocol:o,hasAuthorityPrefix:a,userInfo:f,host:l,port:c,path:h,query:p,anchor:d,setProtocol:v,setHasAuthorityPrefix:m,setUserInfo:g,setHost:y,setPort:b,setPath:w,setQuery:E,setAnchor:S,getQueryParamValue:x,getQueryParamValues:T,deleteQueryParam:C,addQueryParam:k,replaceQueryParam:L,decode:N,toString:A,clone:O}},e},libraries["./nodeToText"]=function(){var e={};return e.nodeToText=function(e){var t="";try{return t=e.textContent.replace(/\n/g," "),t}catch(n){1}try{if(e.nodeType==3)t=e.nodeValue;else if(e.noteType==1)return t=e.innerText.replace(/\n/g," "),t}catch(n){1}return t},e},libraries["./sizzle"]=function(){var e={},t;e.sz=function(e){return t(e)},e.loadSizzle=function(e,r){t=n(e,r)};var n=function(e,t){function tt(e,t,n,r){var i=0,s=t.length;for(;i<s;i++)K(e,t[i],n,r)}function nt(e,t,n,r,i,s){var o,u=Q.setFilters[t.toLowerCase()];return u||K.error(t),(e||!(o=i))&&tt(e||"*",r,o=[],i),o.length>0?u(o,n,s):[]}function rt(e,n,r,i,s){var o,u,a,f,l,c,h,d,m=0,g=s.length,y=H.POS,b=new RegExp("^"+y.source+"(?!"+v+")","i"),w=function(){var e=1,n=arguments.length-2;for(;e<n;e++)arguments[e]===t&&(o[e]=t)};for(;m<g;m++){y.exec(""),e=s[m],f=[],a=0,l=i;while(o=y.exec(e)){d=y.lastIndex=o.index+o[0].length;if(d>a){h=e.slice(a,o.index),a=d,c=[n],N.test(h)&&(l&&(c=l),l=i);if(u=M.test(h))h=h.slice(0,-5).replace(N,"$&*");o.length>1&&o[0].replace(b,w),l=nt(h,o[1],o[2],c,l,u)}}l?(f=f.concat(l),(h=e.slice(a))&&h!==")"?tt(h,f,r,i):p.apply(r,f)):K(e,n,r,i)}return g===1?r:K.uniqueSort(r)}function it(t,n,r){var i,s,o,u=[],a=0,f=k.exec(t),l=!f.pop()&&!f.pop(),c=l&&t.match(C)||[""],h=Q.preFilter,p=Q.filter,d=!r&&n!==e;for(;(s=c[a])!=null&&l;a++){u.push(i=[]),d&&(s=" "+s);while(s){l=!1;if(f=N.exec(s))s=s.slice(f[0].length),l=i.push({part:f.pop().replace(T," "),captures:f});for(o in p)(f=H[o].exec(s))&&(!h[o]||(f=h[o](f,n,r)))&&(s=s.slice(f.shift().length),l=i.push({part:o,captures:f}));if(!l)break}}return l||K.error(t),u}function st(e,t,i){var s=t.dir,o=c++;return e||(e=function(e){return e===i}),t.first?function(t,n){while(t=t[s])if(t.nodeType===1)return e(t,n)&&t}:function(t,i){var u,a=o+"."+r,f=a+"."+n;while(t=t[s])if(t.nodeType===1){if((u=t[d])===f)return t.sizset;if(typeof u=="string"&&u.indexOf(a)===0){if(t.sizset)return t}else{t[d]=f;if(e(t,i))return t.sizset=!0,t;t.sizset=!1}}}}function ot(e,t){return e?function(n,r){var i=t(n,r);return i&&e(i===!0?n:i,r)}:t}function ut(e,t,n){var r,i,s=0;for(;r=e[s];s++)Q.relative[r.part]?i=st(i,Q.relative[r.part],t):(r.captures.push(t,n),i=ot(i,Q.filter[r.part].apply(null,r.captures)));return i}function at(e){return function(t,n){var r,i=0;for(;r=e[i];i++)if(r(t,n))return!0;return!1}}var n,r,i,s,o,u=e.documentElement,a="undefined",f=!1,l=!0,c=0,h=[].slice,p=[].push,d=("sizcache"+Math.random()).replace(".",""),v="[\\x20\\t\\r\\n\\f]",m="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",g=m.replace("w","w#"),y="([*^$|!~]?=)",b="\\["+v+"*("+m+")"+v+"*(?:"+y+v+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+g+")|)|)"+v+"*\\]",w=":("+m+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|((?:[^,]|\\\\,|(?:,(?=[^\\[]*\\]))|(?:,(?=[^\\(]*\\))))*))\\)|)",E=":(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\)|)(?=[^-]|$)",S=v+"*([\\x20\\t\\r\\n\\f>+~])"+v+"*",x="(?=[^\\x20\\t\\r\\n\\f])(?:\\\\.|"+b+"|"+w.replace(2,7)+"|[^\\\\(),])+",T=new RegExp("^"+v+"+|((?:^|[^\\\\])(?:\\\\.)*)"+v+"+$","g"),N=new RegExp("^"+S),C=new RegExp(x+"?(?="+v+"*,|$)","g"),k=new RegExp("^(?:(?!,)(?:(?:^|,)"+v+"*"+x+")*?|"+v+"*(.*?))(\\)|$)"),L=new RegExp(x.slice(19,-6)+"\\x20\\t\\r\\n\\f>+~])+|"+S,"g"),A=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,O=/[\x20\t\r\n\f]*[+~]/,M=/:not\($/,_=/h\d/i,D=/input|select|textarea|button/i,P=/\\(?!\\)/g,H={ID:new RegExp("^#("+m+")"),CLASS:new RegExp("^\\.("+m+")"),NAME:new RegExp("^\\[name=['\"]?("+m+")['\"]?\\]"),TAG:new RegExp("^("+m.replace("[-","[-\\*")+")"),ATTR:new RegExp("^"+b),PSEUDO:new RegExp("^"+w),CHILD:new RegExp("^:(only|nth|last|first)-child(?:\\("+v+"*(even|odd|(([+-]|)(\\d*)n|)"+v+"*(?:([+-]|)"+v+"*(\\d+)|))"+v+"*\\)|)","i"),POS:new RegExp(E,"ig"),needsContext:new RegExp("^"+v+"*[>+~]|"+E,"i")},B={},j=[],F={},I=[],q=function(e){return e.sizzleFilter=!0,e},R=function(e){return function(t){return t.nodeName.toLowerCase()==="input"&&t.type===e}},U=function(e){return function(t){var n=t.nodeName.toLowerCase();return(n==="input"||n==="button")&&t.type===e}},z=function(t){var n=!1,r=e.createElement("div");try{n=t(r)}catch(i){}return r=null,n},W=z(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return t!=="boolean"&&t!=="string"}),X=z(function(t){t.id=d+0,t.innerHTML="<a name='"+d+"'></a><div name='"+d+"'></div>",u.insertBefore(t,u.firstChild);var n=e.getElementsByName&&e.getElementsByName(d).length===2+e.getElementsByName(d+0).length;return o=!e.getElementById(d),u.removeChild(t),n}),V=z(function(t){return t.appendChild(e.createComment("")),t.getElementsByTagName("*").length===0}),$=z(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==a&&e.firstChild.getAttribute("href")==="#"}),J=z(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",!e.getElementsByClassName||e.getElementsByClassName("e").length===0?!1:(e.lastChild.className="e",e.getElementsByClassName("e").length!==1)}),K=function(t,n,r,i){r=r||[],n=n||e;var s,o,u,a,f=n.nodeType;if(f!==1&&f!==9)return[];if(!t||typeof t!="string")return r;u=Y(n);if(!u&&!i)if(s=A.exec(t))if(a=s[1]){if(f===9){o=n.getElementById(a);if(!o||!o.parentNode)return r;if(o.id===a)return r.push(o),r}else if(n.ownerDocument&&(o=n.ownerDocument.getElementById(a))&&Z(n,o)&&o.id===a)return r.push(o),r}else{if(s[2])return p.apply(r,h.call(n.getElementsByTagName(t),0)),r;if((a=s[3])&&J&&n.getElementsByClassName)return p.apply(r,h.call(n.getElementsByClassName(a),0)),r}return lt(t,n,r,i,u)},Q=K.selectors={cacheLength:50,match:H,order:["ID","TAG"],attrHandle:{},createPseudo:q,find:{ID:o?function(e,t,n){if(typeof t.getElementById!==a&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==a&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==a&&i.getAttributeNode("id").value===e?[i]:t:[]}},TAG:V?function(e,t){if(typeof t.getElementsByTagName!==a)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e==="*"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(P,""),e[3]=(e[4]||e[5]||"").replace(P,""),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]==="nth"?(e[2]||K.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]==="even"||e[2]==="odd")),e[4]=+(e[6]+e[7]||e[2]==="odd")):e[2]&&K.error(e[0]),e},PSEUDO:function(e){var t,n=e[4];return H.CHILD.test(e[0])?null:(n&&(t=k.exec(n))&&t.pop()&&(e[0]=e[0].slice(0,t[0].length-n.length-1),n=t[0].slice(0,-1)),e.splice(2,3,n||e[3]),e)}},filter:{ID:o?function(e){return e=e.replace(P,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(P,""),function(t){var n=typeof t.getAttributeNode!==a&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return e==="*"?function(){return!0}:(e=e.replace(P,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=B[e];return t||(t=B[e]=new RegExp("(^|"+v+")"+e+"("+v+"|$)"),j.push(e),j.length>Q.cacheLength&&delete B[j.shift()]),function(e){return t.test(e.className||typeof e.getAttribute!==a&&e.getAttribute("class")||"")}},ATTR:function(e,t,n){return t?function(r){var i=K.attr(r,e),s=i+"";if(i==null)return t==="!=";switch(t){case"=":return s===n;case"!=":return s!==n;case"^=":return n&&s.indexOf(n)===0;case"*=":return n&&s.indexOf(n)>-1;case"$=":return n&&s.substr(s.length-n.length)===n;case"~=":return(" "+s+" ").indexOf(n)>-1;case"|=":return s===n||s.substr(0,n.length+1)===n+"-"}}:function(t){return K.attr(t,e)!=null}},CHILD:function(e,t,n,r){if(e==="nth"){var i=c++;return function(e){var t,s,o=0,u=e;if(n===1&&r===0)return!0;t=e.parentNode;if(t&&(t[d]!==i||!e.sizset)){for(u=t.firstChild;u;u=u.nextSibling)if(u.nodeType===1){u.sizset=++o;if(u===e)break}t[d]=i}return s=e.sizset-r,n===0?s===0:s%n===0&&s/n>=0}}return function(t){var n=t;switch(e){case"only":case"first":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e==="first")return!0;n=t;case"last":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t,n,r){var i=Q.pseudos[e]||Q.pseudos[e.toLowerCase()];return i||K.error("unsupported pseudo: "+e),i.sizzleFilter?i(t,n,r):i}},pseudos:{not:q(function(e,t,n){var r=ft(e.replace(T,"$1"),t,n);return function(e){return!r(e)}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&!!e.checked||t==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!Q.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>"@"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},contains:q(function(e){return function(t){return(t.textContent||t.innerText||et(t)).indexOf(e)>-1}}),has:q(function(e){return function(t){return K(e,t).length>0}}),header:function(e){return _.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()==="input"&&(t=e.type)==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()===t)},radio:R("radio"),checkbox:R("checkbox"),file:R("file"),password:R("password"),image:R("image"),submit:U("submit"),reset:U("reset"),button:function(e){var t=e.nodeName.toLowerCase();return t==="input"&&e.type==="button"||t==="button"},input:function(e){return D.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&(!!e.type||!!e.href)},active:function(e){return e===e.ownerDocument.activeElement}},setFilters:{first:function(e,t,n){return n?e.slice(1):[e[0]]},last:function(e,t,n){var r=e.pop();return n?e:[r]},even:function(e,t,n){var r=[],i=n?1:0,s=e.length;for(;i<s;i+=2)r.push(e[i]);return r},odd:function(e,t,n){var r=[],i=n?0:1,s=e.length;for(;i<s;i+=2)r.push(e[i]);return r},lt:function(e,t,n){return n?e.slice(+t):e.slice(0,+t)},gt:function(e,t,n){return n?e.slice(0,+t+1):e.slice(+t+1)},eq:function(e,t,n){var r=e.splice(+t,1);return n?e:r}}};Q.setFilters.nth=Q.setFilters.eq,Q.filters=Q.pseudos,$||(Q.attrHandle={href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}}),X&&(Q.order.push("NAME"),Q.find.NAME=function(e,t){if(typeof t.getElementsByName!==a)return t.getElementsByName(e)}),J&&(Q.order.splice(1,0,"CLASS"),Q.find.CLASS=function(e,t,n){if(typeof t.getElementsByClassName!==a&&!n)return t.getElementsByClassName(e)});try{h.call(u.childNodes,0)[0].nodeType}catch(G){h=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}var Y=K.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!=="HTML":!1},Z=K.contains=u.compareDocumentPosition?function(e,t){return!!(e.compareDocumentPosition(t)&16)}:u.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},et=K.getText=function(e){var t,n="",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=et(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=et(t);return n};K.attr=function(e,t){var n,r=Y(e);return r||(t=t.toLowerCase()),Q.attrHandle[t]?Q.attrHandle[t](e):W||r?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]=="boolean"?e[t]?t:null:n.specified?n.value:null:null)},K.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},[0,0].sort(function(){return l=0}),u.compareDocumentPosition?i=function(e,t){return e===t?(f=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:(i=function(e,t){if(e===t)return f=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],o=[],u=e.parentNode,a=t.parentNode,l=u;if(u===a)return s(e,t);if(!u)return-1;if(!a)return 1;while(l)i.unshift(l),l=l.parentNode;l=a;while(l)o.unshift(l),l=l.parentNode;n=i.length,r=o.length;for(var c=0;c<n&&c<r;c++)if(i[c]!==o[c])return s(i[c],o[c]);return c===n?s(e,o[c],-1):s(i[c],t,1)},s=function(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}),K.uniqueSort=function(e){var t,n=1;if(i){f=l,e.sort(i);if(f)for(;t=e[n];n++)t===e[n-1]&&e.splice(n--,1)}return e};var ft=K.compile=function(e,t,n){var r,i,s,o=F[e];if(o&&o.context===t)return o;i=it(e,t,n);for(s=0;r=i[s];s++)i[s]=ut(r,t,n);return o=F[e]=at(i),o.context=t,o.runs=o.dirruns=0,I.push(e),I.length>Q.cacheLength&&delete F[I.shift()],o};K.matches=function(e,t){return K(e,null,null,t)},K.matchesSelector=function(e,t){return K(t,null,null,[e]).length>0};var lt=function(e,t,i,s,o){e=e.replace(T,"$1");var u,a,f,l,c,d,v,m,g,y=e.match(C),b=e.match(L),w=t.nodeType;if(H.POS.test(e))return rt(e,t,i,s,y);if(s)u=h.call(s,0);else if(y&&y.length===1){if(b.length>1&&w===9&&!o&&(y=H.ID.exec(b[0]))){t=Q.find.ID(y[1],t,o)[0];if(!t)return i;e=e.slice(b.shift().length)}m=(y=O.exec(b[0]))&&!y.index&&t.parentNode||t,g=b.pop(),d=g.split(":not")[0];for(f=0,l=Q.order.length;f<l;f++){v=Q.order[f];if(y=H[v].exec(d)){u=Q.find[v]((y[1]||"").replace(P,""),m,o);if(u==null)continue;d===g&&(e=e.slice(0,e.length-g.length)+d.replace(H[v],""),e||p.apply(i,h.call(u,0)));break}}}if(e){a=ft(e,t,o),r=a.dirruns++,u==null&&(u=Q.find.TAG("*",O.test(e)&&t.parentNode||t));for(f=0;c=u[f];f++)n=a.runs++,a(c,t)&&i.push(c)}return i};return e.querySelectorAll&&function(){var e,t=lt,n=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,i=[],s=[":active"],o=u.matchesSelector||u.mozMatchesSelector||u.webkitMatchesSelector||u.oMatchesSelector||u.msMatchesSelector;z(function(e){e.innerHTML="<select><option selected></option></select>",e.querySelectorAll("[selected]").length||i.push("\\["+v+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||i.push(":checked")}),z(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&i.push("[*^$]="+v+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'>",e.querySelectorAll(":enabled").length||i.push(":enabled",":disabled")}),i=i.length&&new RegExp(i.join("|")),lt=function(e,r,s,o,u){if(!o&&!u&&(!i||!i.test(e)))if(r.nodeType===9)try{return p.apply(s,h.call(r.querySelectorAll(e),0)),s}catch(a){}else if(r.nodeType===1&&r.nodeName.toLowerCase()!=="object"){var f=r.getAttribute("id"),l=f||d,c=O.test(e)&&r.parentNode||r;f?l=l.replace(n,"\\$&"):r.setAttribute("id",l);try{return p.apply(s,h.call(c.querySelectorAll(e.replace(C,"[id='"+l+"'] $&")),0)),s}catch(a){}finally{f||r.removeAttribute("id")}}return t(e,r,s,o,u)},o&&(z(function(t){e=o.call(t,"div");try{o.call(t,"[test!='']:sizzle"),s.push(Q.match.PSEUDO)}catch(n){}}),s=new RegExp(s.join("|")),K.matchesSelector=function(t,n){n=n.replace(r,"='$1']");if(!Y(t)&&!s.test(n)&&(!i||!i.test(n)))try{var u=o.call(t,n);if(u||e||t.document&&t.dom.nodeType!==11)return u}catch(a){}return K(n,null,null,[t]).length>0})}(),K};return e},libraries["./toolkit"]=function(){var e={};e.cleanAddress=zrRequire("./cleanAddress_en").cleanAddress,e.nodeToText=zrRequire("./nodeToText").nodeToText,e.domToText=zrRequire("./domToText").domToText,e.addressFromString=zrRequire("./addressFromString").addressFromString,e.json=zrRequire("./json2").json;var t=zrRequire("./sizzle");e.sz=t.sz,e.loadSizzle=t.loadSizzle,e.uri=zrRequire("./jsuri").uri;var n=zrRequire("./address");return e.address=n.address,e.addressFromFields=n.addressFromFields,e},libraries["./ziprip"]=function(){var e={};e._zipripToolkit=zrRequire("./toolkit");var t=["Google","HVCard","FromText"],n=[];for(var r=0;r<t.length;r++){var i=zrRequire("./extractor"+t[r]).extractor;n.push(i)}var s=zrRequire("./extractUsing").extractUsing;return e.extract=function(t,r){return s(t,r,e._zipripToolkit,{},n)},e.version="0.0.1",e},typeof exports!="undefined"?(typeof module!="undefined"&&module.exports&&(exports=module.exports=zrRequire("./ziprip")),exports.ziprip=zrRequire("./ziprip")):this.ziprip=zrRequire("./ziprip")}).call(this);